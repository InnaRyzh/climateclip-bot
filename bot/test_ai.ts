import { rewriteNewsText } from './aiService.js';

const text = `Вулкан Семеру продолжает демонстрировать повышенную активность. Индонезийские вулканологические службы (PVMBG) зафиксировали несколько эпизодов извержений и значительное усиление сейсмических процессов. В 05:13 по местному времени было зарегистрировано извержение с выбросом пеплового столба высотой около 1000 метров над вершиной. С 06:00 до 12:00 сейсмографы зафиксировали 31 эпизод взрывного типа, три эпизода выбросов и одно гармоническое землетрясение, указывающее на движение магмы. Во второй половине дня, в 15:51, отмечено ещё одно извержение, сопровождавшееся сейсмическим сигналом амплитудой до 17 мм и длительностью около 101 секунды.  Зафиксированы так называемые аваланш-события, это сейсмические сигналы, возникающие при обрушении и сходе рыхлого пирокластического материала со склонов вулкана`;

async function run() {
  console.log('--- Исходный текст ---');
  console.log(text);
  console.log('\n--- Разбиение ---');
  
  const result = await rewriteNewsText(text);
  
  result.forEach((block, i) => {
    console.log(`\n[БЛОК ${i + 1}] (${block.split(' ').length} слов):`);
    console.log(block);
  });
}

run();